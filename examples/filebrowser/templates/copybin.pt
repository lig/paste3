<metal:tpl define-macro="copybin">

<tal:if condition="options/copyfiles">

<tal:for repeat="f options/copyfiles">
 <div tal:attributes="class python: 'item %s' % test(repeat['f'].odd(),
                      'odd', 'even');
                      id f/id">
  <div class="controls">
   <span tal:replace="structure python: servlet.globalurl('copybin',
    remove=f['filename']).remote('copybin').link(servlet.icons(
    'remove.png', title='Remove from clipboard'))"/>
  </div>
  <a tal:attributes="href f/url"
    tal:content="f/filename" />
   <tal:if condition="f/cut">(cut)</tal:if>
 </div>
</tal:for>

<span style="float: right"
 tal:content="structure python: servlet.globalurl('copybin', clear='t').remote('copybin').link('clear')"/>
</tal:if>

<tal:if condition="not: options/copyfiles">
the bin is empty
</tal:if>

</metal:tpl>
